/* =========================
   CSS Variables (через :root)
   ========================= */
:root {
  /* Fonts */
  --font-main: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

  /* Colors */
  --color-bg: #f9fafb;
  --color-surface: #ffffff;
  --color-text: #111827;
  --color-muted: #6b7280;
  --color-border: #e5e7eb;

  --color-primary: #2563eb;
  --color-primary-hover: #1d4ed8;
  --color-success: #16a34a;
  --color-warning: #d97706;
  --color-danger: #dc2626;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0,0,0,.06);
  --shadow-md: 0 10px 28px rgba(0,0,0,.10);

  /* Radius */
  --radius-sm: 10px;
  --radius: 14px;
  --radius-lg: 18px;

  /* Spacing (px) */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;

  /* Typography */
  --text-sm: 14px;
  --text-base: 16px;
  --text-lg: 18px;
  --line: 1.5;

  /* Layout */
  --container: 980px;
}

/* =========================
   SCSS: maps / functions / mixins
   ========================= */

/* breakpoints map */
$breakpoints: (
  sm: 480px,
  md: 768px,
  lg: 1024px
);

/* функция: px -> rem (показывает SCSS-функции) */
@function rem($px, $base: 16px) {
  @return ($px / $base) * 1rem;
}

/* media mixin */
@mixin up($key) {
  $value: map-get($breakpoints, $key);
  @media (min-width: $value) {
    @content;
  }
}

/* центрирование flex */
@mixin flex-center($gap: 0) {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $gap;
}

/* ограничение строк (line clamp) */
@mixin clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* доступность: скрыть визуально, оставить для скринридера */
@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* базовая кнопка */
@mixin button-base($bg, $color: #fff) {
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius);
  border: 1px solid transparent;
  background: $bg;
  color: $color;
  box-shadow: var(--shadow-sm);
  cursor: pointer;

  transition: transform .12s ease, opacity .12s ease, background-color .12s ease;

  &:hover { opacity: .95; }
  &:active { transform: translateY(1px); }
}

/* Placeholder для карточек (используется через @extend) */
@mixin card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
}


/* =========================
   Utilities generator (loops)
   ========================= */

/* spacing scale для генерации классов */
$spaces: (
  1: var(--space-1),
  2: var(--space-2),
  3: var(--space-3),
  4: var(--space-4),
  6: var(--space-6),
  8: var(--space-8)
);

/* .m-4, .p-4, .mt-4 и т.п. */
@each $k, $v in $spaces {
  .m-#{$k}  { margin: $v; }
  .p-#{$k}  { padding: $v; }
  .mt-#{$k} { margin-top: $v; }
  .mb-#{$k} { margin-bottom: $v; }
  .pt-#{$k} { padding-top: $v; }
  .pb-#{$k} { padding-bottom: $v; }
}

/* текстовые утилиты */
.text-muted { color: var(--color-muted); }
.text-mono  { font-family: var(--font-mono); }
